<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>⚡ AI Web App Builder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="style.css" rel="stylesheet" />
</head>
<body>
  <header class="topbar">
    <div class="brand">⚡ AI Web App Builder</div>
    <div class="controls">
      <input id="promptInput" class="input" placeholder="Describe your app (e.g. a pomodoro timer with dark theme)" />
      <button id="generateBtn" class="btn">✨ Generate</button>
      <button id="runBtn" class="btn">▶ Run</button>
      <button id="resetBtn" class="btn btn-ghost">♻ Reset</button>
    </div>
  </header>

  <main class="layout">
    <section class="left">
      <div class="tabs">
        <button class="tab active" data-file="index.html">index.html</button>
        <button class="tab" data-file="style.css">style.css</button>
        <button class="tab" data-file="script.js">script.js</button>
      </div>
      <div id="editor" class="editor"></div>
      <div class="statusbar">
        <div id="statusLeft">Ready</div>
        <div id="statusRight">UTF-8  •  LF  •  Monaco</div>
      </div>
    </section>

    <section class="right">
      <div class="right-top">
        <div class="right-title">Preview</div>
        <label class="auto-run">
          <input id="autoRun" type="checkbox" checked />
          Auto-refresh on edit
        </label>
      </div>
      <iframe id="previewFrame" class="preview" sandbox="allow-scripts allow-same-origin"></iframe>

      <div class="right-title" style="margin-top:.75rem;">Terminal</div>
      <div id="logs" class="logs"></div>
    </section>
  </main>

  <!-- Monaco Editor CDN -->
  <script>
    window.MonacoEnvironment = { getWorkerUrl: () => proxy };
    let proxy = URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = { baseUrl: 'https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/' };
      importScripts('https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/base/worker/workerMain.js');
    `], { type: 'text/javascript' }));
  </script>
  <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/loader.js"></script>

  <script src="script.js"></script>
</body>
</html>
